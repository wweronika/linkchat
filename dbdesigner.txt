CREATE TABLE `Users` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`login` VARCHAR(255) NOT NULL UNIQUE,
	`password` VARCHAR(255) NOT NULL,
	`salt` VARCHAR(255) NOT NULL,
	`email` VARCHAR(255) NOT NULL UNIQUE,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Messages` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`senderID` INT NOT NULL,
	`isLink` BOOLEAN NOT NULL,
	`groupID` INT NOT NULL,
	`text` VARCHAR(255),
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Groups` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`name` VARCHAR(255) NOT NULL UNIQUE,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `Links` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`messageID` INT NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `group_user` (
	`groupID` INT NOT NULL,
	`userID` INT NOT NULL
);

ALTER TABLE `Messages` ADD CONSTRAINT `Messages_fk0` FOREIGN KEY (`senderID`) REFERENCES `Users`(`ID`);

ALTER TABLE `Messages` ADD CONSTRAINT `Messages_fk1` FOREIGN KEY (`groupID`) REFERENCES `Groups`(`ID`);

ALTER TABLE `Links` ADD CONSTRAINT `Links_fk0` FOREIGN KEY (`messageID`) REFERENCES `Messages`(`ID`);

ALTER TABLE `group_user` ADD CONSTRAINT `group_user_fk0` FOREIGN KEY (`groupID`) REFERENCES `Groups`(`ID`);

ALTER TABLE `group_user` ADD CONSTRAINT `group_user_fk1` FOREIGN KEY (`userID`) REFERENCES `Users`(`ID`);
